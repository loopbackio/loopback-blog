"use strict";(self.webpackChunkmy_blog=self.webpackChunkmy_blog||[]).push([[3473],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return h}});var o=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),p=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},c=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},m=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=s(e,["components","mdxType","originalType","parentName"]),m=p(n),h=a,d=m["".concat(l,".").concat(h)]||m[h]||u[h]||r;return n?o.createElement(d,i(i({ref:t},c),{},{components:n})):o.createElement(d,i({ref:t},c))}));function h(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=m;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:a,i[1]=s;for(var p=2;p<r;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},1180:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return s},contentTitle:function(){return l},metadata:function(){return p},assets:function(){return c},toc:function(){return u},default:function(){return h}});var o=n(7462),a=n(3366),r=(n(7294),n(3905)),i=["components"],s={title:"Community Q&A Monthly Digest - Oct 2020",date:new Date("2020-10-28T00:00:00.000Z"),authors:"dhmlau",slug:"2020-oct-slack-qa",tags:["Community","Slack","Q&A"]},l=void 0,p={permalink:"/2020-oct-slack-qa",editUrl:"https://github.com/loopbackio/loopback-blog/blog/2020/2020-10-28-oct-slack-qanda.md",source:"@site/blog/2020/2020-10-28-oct-slack-qanda.md",title:"Community Q&A Monthly Digest - Oct 2020",description:"Originally published on strongloop.com",date:"2020-10-28T00:00:00.000Z",formattedDate:"October 28, 2020",tags:[{label:"Community",permalink:"/tags/community"},{label:"Slack",permalink:"/tags/slack"},{label:"Q&A",permalink:"/tags/q-a"}],readingTime:3.415,truncated:!0,authors:[{name:"Diana Lau",title:"LoopBack Maintainer",url:"https://github.com/dhmlau",imageURL:"https://avatars2.githubusercontent.com/u/25489897",key:"dhmlau"}],frontMatter:{title:"Community Q&A Monthly Digest - Oct 2020",date:"2020-10-28T00:00:00.000Z",authors:"dhmlau",slug:"2020-oct-slack-qa",tags:["Community","Slack","Q&A"]},prevItem:{title:"LoopBack 4 October 2020 Milestone Update",permalink:"/october-2020-milestone"},nextItem:{title:"LoopBack 4 2020 Q3 Overview",permalink:"/loopback-4-2020-q3-overview"}},c={authorsImageUrls:[void 0]},u=[{value:"Enriching LoopBack and its Community - You are Invited!",id:"enriching-loopback-and-its-community---you-are-invited",children:[],level:2}],m={toc:u};function h(e){var t=e.components,n=(0,a.Z)(e,i);return(0,r.kt)("wrapper",(0,o.Z)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Originally published on ",(0,r.kt)("a",{parentName:"em",href:"https://strongloop.com"},"strongloop.com"))),(0,r.kt)("p",null,"It's been 6 months since we created the ",(0,r.kt)("a",{parentName:"p",href:"https://join.slack.com/t/loopbackio/shared_invite/zt-8lbow73r-SKAKz61Vdao~_rGf91pcsw"},"Slack channel")," for LoopBack community. Thanks to your support, over 500 members had joined and new members are joining almost everyday! Let's take a look at the October edition of the \u201cCommunity Q&A Monthly Digest\u201d, capturing some of the Q&A in this forum. "),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Question:")," How to get the raw request in LoopBack 4 in a function without changing the parsing for the entire app?"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Answer:"),"\nIt's possible to get the raw request body with ",(0,r.kt)("inlineCode",{parentName:"p"},"x-parser"),": ",(0,r.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/Parsing-requests.html#extend-request-body-parsing"},"https://loopback.io/doc/en/lb4/Parsing-requests.html#extend-request-body-parsing"),".\n-- ",(0,r.kt)("em",{parentName:"p"},"Answered by @Rifa Achrinza")),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Question:")," Is there any solution for tracking database migration, for example, migrations has been already run and possible rollback of migration? "),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Answer:"),"\nI created a module which tracks migrations and executes scripts based on the db version compared to the app version, see ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/loopback4-migration"},"https://www.npmjs.com/package/loopback4-migration"),".\n--",(0,r.kt)("em",{parentName:"p"},"Answered by @nflaig")),(0,r.kt)("p",null,"Ideally, LoopBack generates the DDL for users to review, and then it\u2019s up to the users to run it or not. It's a feature to be implemented, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/strongloop/loopback-next/issues/4757"},"https://github.com/strongloop/loopback-next/issues/4757"),".\n--",(0,r.kt)("em",{parentName:"p"},"Answered by @Diana Lau")),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Question:")," I want to check whether a specified ",(0,r.kt)("inlineCode",{parentName:"p"},"categoryId")," exists in a Mongo datasource, how can I do that? For example,"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-json"},'{"categories" : [\n    {\n        "categoryId" : "e759c15e-3552-4557-aa6b-c1396674c7e6",\n        "name" : "test"\n    },\n    {\n        "categoryId" : "e759c15e-3552-4557-aa6b-c1396674c7e5",\n        "name" : "test1"\n    }\n]}\n')),(0,r.kt)("p",null,"I tried ",(0,r.kt)("inlineCode",{parentName:"p"},"await this.usersRepository.find({'categories.categoryId': 'e759c15e-3552-4557-aa6b-c1396674c7e5'});")," but getting an error message below:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"> { 'categories.categoryId': string; }' is not assignable to parameter of type 'Filter<Users>'. Object literal may only specify known properties, and ''categories.categoryId'' does not exist in type 'Filter<Users>'\n")),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Answer:"),"\nThe object you pass into ",(0,r.kt)("inlineCode",{parentName:"p"},".find()")," needs to be a ",(0,r.kt)("inlineCode",{parentName:"p"},"Filter")," object. Make sure you ",(0,r.kt)("inlineCode",{parentName:"p"},"import { Filter } from '@loopback/repository';"),", then you can: "),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"const existingCategoryFilter: Filter = {\n  //...filter properties in here...\n};\nlet existingCategories = await this.categoryRepository.find(existingCategoryFilter);\n")),(0,r.kt)("p",null,"-- Answered by @Jackson Hyde"),(0,r.kt)("p",null,"To add on what @Jackson Hyde has mentioned, due to limitations on TypeScript types, nested objects are not included in the typings. Hence, you'll also need to override TypeScript's check by adding ",(0,r.kt)("inlineCode",{parentName:"p"},"// @ts-ignore")," just before the repository function.\n-- Answered by @Rifa Achrinza"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Question:")," I want to implement JWT refresh token in LoopBack 4. Can you suggest any good tutorial?"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Answer:")," You can follow this ",(0,r.kt)("a",{parentName:"p",href:"https://loopback.io/doc/en/lb4/JWT-authentication-extension.html"},"https://loopback.io/doc/en/lb4/JWT-authentication-extension.html"),".\n--",(0,r.kt)("em",{parentName:"p"},"Answered by @Pratik Jaiswal")),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Question:"),' I used LoopBack CLI to create a "SHIPPING" model but it tries to do lowercase "Shipping" in the SQL with the quotes. An error occurred in the SQL statement because it is case sensitive with the quotes around it. How can I fix this? I\'m on LoopBack 4 and using the ',(0,r.kt)("inlineCode",{parentName:"p"},"loopback-connector-ibmi"),"."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Answer:"),"\nDid u try to give the name in your model?"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"@model({name: 'member_membership'})\nexport class MemberMembership extends Entity {\n    //...\n}\n")),(0,r.kt)("p",null,"So ",(0,r.kt)("inlineCode",{parentName:"p"},"member_membership")," is the table in the database.\n-- Answered by @Mohammed"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"name")," property customizes the model name, which is default to the class name if not provided. The model name is then used as the default for table name unless you further customize it for specific databases.\n-- Answered by @Raymond Feng"),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Question:")," I have a CORS issue with ",(0,r.kt)("inlineCode",{parentName:"p"},"passport-login")," example when trying to establish connection with Google using Angular Frontend. I keep getting CORS error:"),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Access to XMLHttpRequest at '",(0,r.kt)("a",{parentName:"p",href:"https://accounts.google.com/o/oauth2/v2/auth?...'"},"https://accounts.google.com/o/oauth2/v2/auth?...'")," (redirected from 'http://localhost:3000/api/auth/thirdparty/google') from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.\"")),(0,r.kt)("p",null,"But the application is working fine with jade."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Answer:"),"\nIn your login component you could do something like:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ts"},"OAUTH2_LINK_GOOGLE = this.api_url+'/api/auth/thirdparty/google?redirect_uri=' + this.redir_url\n  onGoogleSignIn() {\n    window.location.href = this.OAUTH2_LINK_GOOGLE;\n  }\n")),(0,r.kt)("p",null,"Bind the Google link to the above in the HTML code."),(0,r.kt)("p",null,"-- Answered by @marg330"),(0,r.kt)("hr",null),(0,r.kt)("h2",{id:"enriching-loopback-and-its-community---you-are-invited"},"Enriching LoopBack and its Community - You are Invited!"),(0,r.kt)("p",null,"As mentioned in our ",(0,r.kt)("a",{parentName:"p",href:"https://strongloop.com/strongblog/2020-community-contribution/"},"recent blog post"),", your contribution is important to make LoopBack a sustainable open source project. "),(0,r.kt)("p",null,"Here is what you can do:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://join.slack.com/t/loopbackio/shared_invite/zt-8lbow73r-SKAKz61Vdao~_rGf91pcsw"},"Join LoopBack Slack community")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next/issues?q=is%3Aissue+is%3Aopen+label%3A%22good+first+issue%22"},"Look for first-contribution-friendly issues")),(0,r.kt)("li",{parentName:"ul"},"Give us feedback and join our discussion in ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/strongloop/loopback-next"},"our GitHub repo"))),(0,r.kt)("p",null,"Let's make LoopBack a better framework together!"))}h.isMDXComponent=!0}}]);